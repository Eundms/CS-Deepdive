# 11. 데이터분석

## 데이터웨어하우스
- 통합스키마 -> 여러 근원지로부터 데이터 수집
- 단일/균일한 인터페이스
- 비관계형 데이터
- 데이터 -(ETL)-> 데이터웨어하우스
- 이로인해, 의사결정 지원 질의문을 보다 쉽게 작성할 수 있음

### 구성요소
- 데이터 수집 시기, 방식
    - source-driven architecture
        - 근원지에서 트랜잭션 처리가 일어날때 새로운 정보를 계속 전송
        - 일정시간마다 전송
    - destination-driven architecture
        - 데이터 웨어하우스가 근원지로 새로운 데이터에 대한 요청을 정기적으로 전송
- 어떠한 스키마 사용
    - 근원지 데이터에 대한 실체화 뷰
- 데이터 변형 및 정제
    - 퍼지검색 : 데이터를 근사적으로 비교하는 작업
- 갱신 전파 방식
    - 데이터 근원지에서 데이터의 변화가 일어날 경우 이는 OLAP에 반영되어야 함
    - 데이터 웨어하우스의 릴레이션 == 근원지 릴레이션 ? O : 뷰관리 문제(View Maintenance)
- 요약 데이터 선정 여부

### ETL vs ELT 
- ETL
    - 데이터 웨어하우스에 데이터를 입력하는 단계
    - Extract(추출) -> Transform(변환) -> Load(적재)
- ELT
    - 최신 데이터 웨어하우스는 데이터를 추출하고, 웨어하우스로 데이터를 적재하고, 그리고 데이터를 변환함
    - MapReduce와 같은 병렬처리 프레임워크 사용
    - Extract(추출) -> Load(적재) -> Transform(변환)

### OLAP(Online Analytical Processing, OLAP)
- 대규모 데이터 집계 질의 실시간 응답
1. 팩트 테이블 : 제품 판매와 같은 개별 이벤트에 대한 정보 기록, 매우 큼
    1) 차원 속성 : 측정 속성의 요약을 그룹화하고 표현하기 위해 사용하는 차원
    2) 측정 속성 : 집계할 수 있는 정량적 정보 저장
2. 차원 테이블 
    - 차원 속성, 측정 속성 이용 모델링 데이터 
- 스타스키마(star schema) : 팩트 테이블에서 차원 테이블을 가리키는 외래 키를 가지는 스키마
- vs OLTP : 실시간 트랜잭션 관리&처리, 관계형 데이터베이스 사용

### 데이터베이스 vs 데이터웨어하우스
- 데이터베이스
    - 읽기 + 갱신
- 데이터 웨어하우스
    - 많은 데이터에 대한 접근을 필요로 함
    - 레코드가 데이터 웨어하우스의 릴레이션에 추가된 후에는 레코드에 대한 갱신이 발생하지 않음. 따라서, 동시성 제어 오버헤드 신경쓰지 않아도 됨 

### 행 지향 저장소(row-oriented storage) vs 열 지향 저장소(column-oriented storage)
- 행 지향 저장소 : 튜플이 하나의 파일에 연속적으로 저장
- 열 지향 저장소 : 한 릴레이션의 각 속성이 분리된 파일에 저장, 파일 안에 연속된 위치에 연속된 튜플의 값이 저장됨
    - 장점 
        - 하나의 질의가 다수의 속성을 가지는 릴레이션에서 오직 소수의 속성에 대한 접근이 필요할 때, 나머지 속성은 메모리로 가져올 필요없음
        - 같은 타입의 값을 함께 정렬하는 것은 압축의 효율성을 증가시킴. 압축은 디스크 저장 비용과 디스크로부터 데이터를 검색하는 데 걸리는 시간을 크게 줄일 수 있음

## 데이터 레이크
- 데이터를 여러 형식으로 저장할 수 있는 저장소 -> 질의 도구가 유연함
- 전처리를 위한 사전 작업이 필요하지 않음

## 온라인 분석 처리 
### 다차원 데이터 분석
- 크로스탭(=피벗 테이블)
    - 피벗팅 : 크로스탭에서 차원 변경을 위해 사용되는 연산
- 데이터 큐브: 2차원의 크로스탭을 n차원으로 일반화하는 작업
    - n차원 테이블 주어졌을 때 가능한 방법 : 2n
- 방식 : OLAP 시스템 이용해 대화식으로 크로스탭의 속성 선택
### SQL에서 OLAP
- pivot 절 : 크로스탭 생성 가능하게 해줌
- cube와 rollup 연산을 수행하기 위해 group by연산자의 일반화를 제공

## 데이터마이닝
- 유용한 패턴을 찾기 위해 대규모 데이터베이스를 반자동적으로 분석하는 작업
- KDD(Knowledge Discovery In Databases) 프로세스의 일부에 해당함
### classification
- training instance 주어짐 -> 새로운 항목이 속할 클래스 예측
1) 의사결정 트리 분류자(decision-tree classifier)
트리 이용, 각 단말 노드는 연관된 클래스를 가짐, 각 내부 노드는 이와 관련된 술어를 가짐
2) 베이지언 분류자(Bayesian classifier)
각 분류에 대한 속성값의 분포를 찾음
베이스 정리..
3) 서포트 백터 머신 분류장(SVM)
4) 신경망 분류자
### regression
임의의 값에 대한 예측
### clustering
주어진 점의 집단을 찾아내는 문제 
계층적 클러스터링이  가능
### 텍스트 마이닝
개체 인식을 통해 중의성 해소
지식 그래프로 표현