# 권한 상승
공격자가 제한된 권한을 가진 사용자 계정에서 시작하여, 시스템 내에서 더 높은 권한(주로 관리자 권한)을 획득하는 해킹 기법
- 로컬 권한 상승: 시스템 내부에서만 발생하며, 사용자 계정이나 애플리케이션의 취약점을 악용하여 관리자 권한을 얻음
- 원격 권한 상승: 원격 시스템에서 발생하며, 외부 공격자가 네트워크를 통해 시스템에 침입하고, 내부 취약점을 이용해 관리자 권한을 획득

## Sudo 취약점 예시 
```c
// 취약한 C 프로그램: sudo 취약점 예시
#include <stdio.h>
#include <stdlib.h>

int main() {
    // 쉘 명령어를 사용하여 root 권한으로 명령 실행
    system("sudo /bin/sh");  // /bin/sh는 쉘을 실행하여 권한 상승을 시도
    return 0;
}
```
사용자가 입력한 특정 프로그램이나 쉘을 실행할 수 있도록 설정되어 있다면, 제한된 사용자도 관리자 권한을 얻을 수 있음

## Setuid 비트 취약점 예시
```c
// 취약한 C 프로그램: setuid 취약점 예시
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>

int main() {
    // setuid()가 호출되지 않는 상태에서 루트 권한으로 실행할 수 있는 취약점 예시
    system("/bin/sh");  // 쉘을 실행하고 루트 권한을 획득
    return 0;
}
```
이 코드에서는 /bin/sh를 실행하여 쉘을 띄우고, setuid 비트를 설정하지 않았음에도 불구하고 권한 상승을 시도합니다.
실제로, setuid 비트가 설정된 프로그램을 실행하면, 그 프로그램은 설정된 권한(일반적으로 root 권한)으로 실행됩니다. 사용자가 제한된 권한을 가지고 있어도, setuid가 설정된 프로그램을 통해 관리자 권한을 얻게 될 수 있습니다.


## 방어 방법
 - 최소 권한 원칙 적용
 - ACL 활용하여 중요한 시스템 자원에 대한 접근 제한 

