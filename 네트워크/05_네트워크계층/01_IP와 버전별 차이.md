## 인터넷 프로토콜 (IP): IPv4, IPv6
### 서브넷
- **정의**: IP 주소 클래스 할당의 한계점을 극복하기 위해 네트워크를 더 작은 네트워크 영역으로 분할.
- **서브넷 마스크**: 네트워크 부분과 호스트 부분을 분리.
- **CIDR (Classless Inter-Domain Routing)**:
  - A.B.C.D/N 형식으로 표기.
  - **예시**: `192.168.10.70/26`
    - 서브넷 마스크: `255.255.255.192`
    - 네트워크 ID: `192.168.10.64`
    - 브로드캐스트 주소: `192.168.10.127`
    - 호스트 수: `(256 - 192) - 2 = 62`

### 호스트와 서브넷의 주소 인식 방법
1. **IP 주소 블록 획득**: 기관이 ISP로부터 서브넷에 사용 가능한 IP 주소 블록을 요청.
2. **IP 주소 할당**: 개별 호스트와 라우터 인터페이스에 IP 주소를 할당.
   - **DHCP (동적 호스트 구성 프로토콜)**: IP 주소를 자동으로 배포하고 관리.

#### 네트워크 주소 변환 (NAT)
- **작동 방식**: 내부 네트워크의 IP 주소를 공인 IP 주소로 변환하여 인터넷 통신.
- **NAT 테이블**:
  - 내부 IP + 포트 번호 ↔ 공인 IP + 포트 번호
- **장점**:
  - 공인 IP 주소 절약.
  - 내부 네트워크 보호.

---

## IPv6와 IPv4의 차이
- **주소 길이**:
  - IPv4: 32비트 (약 43억 개 주소).
  - IPv6: 128비트 (엄청난 주소 공간).
- **애니캐스트**: 패킷을 가장 가까운 하나의 호스트로 전달.
- **헤더 간소화**: IPv6는 헤더 필드를 간소화하여 라우팅 성능 향상.
- **IPsec**: IPv6는 기본적으로 보안 프로토콜(IPsec)을 지원.

### IPv4 -> IPv6 전환 방식

#### 1. 터널링 (Tunneling)
- **정의**: IPv6 패킷을 IPv4 네트워크에서 캡슐화하여 전송하는 방법.
- **작동 방식**:
  - IPv6 헤더와 데이터를 IPv4 패킷 내부에 캡슐화.
  - IPv4 네트워크를 통해 전송된 후, 수신 측에서 캡슐화가 제거되어 IPv6 데이터가 전달됨.
- **특징**:
  - IPv4 네트워크를 활용하여 IPv6 데이터를 전송 가능.
  - 전환 초기 단계에서 IPv6 호스트 간의 통신을 지원.
- **장점**:
  - 기존 IPv4 네트워크와 호환 가능.
  - 별도의 새로운 네트워크 장비 없이도 사용 가능.
- **단점**:
  - 캡슐화로 인해 헤더 오버헤드 증가.
  - 라우팅 경로 최적화 어려움.
- **터널링 방식 예시**:
  - **6to4**: IPv6 주소를 기반으로 자동 터널링.
  - **ISATAP (Intra-Site Automatic Tunnel Addressing Protocol)**: 단일 사이트 내 IPv6 전송 지원.
  - **Teredo**: NAT(Network Address Translation)를 통한 IPv6 터널링.

---

#### 2. 듀얼 스택 (Dual Stack)
- **정의**: 하나의 네트워크 장치(라우터, 호스트 등)가 IPv4와 IPv6를 동시에 지원하도록 설정.
- **작동 방식**:
  - 네트워크 장비와 호스트는 IPv4와 IPv6 주소를 모두 할당받아 통신.
  - 통신 대상이 IPv4를 사용하면 IPv4를, IPv6를 사용하면 IPv6를 통해 데이터 전송.
- **특징**:
  - 네트워크 장비와 호스트가 양쪽 프로토콜을 모두 지원.
  - 전환 과정에서 IPv4와 IPv6가 공존하는 환경 제공.
- **장점**:
  - 프로토콜 간 변환 없이 기존 IPv4 및 IPv6 장치와 직접 통신 가능.
  - 사용자 및 애플리케이션에는 전환이 투명하게 보임.
- **단점**:
  - 장비와 네트워크 관리 복잡성 증가.
  - IPv4와 IPv6 주소를 모두 관리해야 하는 부담.
- **활용 예시**:
  - 현재 대부분의 인터넷 서비스 제공업체(ISP)와 대규모 조직에서 사용.

---

### 터널링과 듀얼 스택 비교

| **특징**           | **터널링**                           | **듀얼 스택**                      |
|--------------------|------------------------------------|------------------------------------|
| **작동 방식**       | IPv6 데이터를 IPv4 네트워크에서 캡슐화 전송 | IPv4와 IPv6를 모두 동시에 지원        |
| **장점**           | 기존 IPv4 네트워크 활용 가능            | 프로토콜 변환 없이 직접 통신 가능       |
| **단점**           | 헤더 오버헤드, 경로 최적화 문제         | 관리 복잡성 증가, 이중 주소 관리 필요   |
| **적용 시점**       | IPv6 도입 초기, IPv4 네트워크 활용 시    | IPv4와 IPv6 공존 환경에서 점진적 전환 |
